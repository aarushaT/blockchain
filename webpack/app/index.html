<!DOCTYPE html>
<html>

<head>
    <title>Empire Life Lottery</title>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">
    <link rel="stylesheet" href="blockchain/app/stylesheets/font-awesome.min.css">
</head>

<body>
    <div class="container-fluid">
        <div class="row mt-3">
            <div class="col text-center">
                <h1>Empire Life Blockchain Lottery Application</h1> 
                <img class="img-fluid" src="app\images\lotto.png" alt="lottery">
                <hr/>
            </div>
        </div>
        <div class="row">
            <div class="col text-center">
                <div class="alert alert-info">We currently have&nbsp;<span id="num_members_span"></span>&nbsp;members</div>
            </div>
        </div>

        <div id="accordion" role="tablist" aria-multiselectable="true">
            <div class="card">
                <div class="card-header text-center" role="tab" id="headingOne">
                    <h5 class="mb-0">
                        <a class="rules-header" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                        The Rules (click to view)<i class="fa fa-info-circle" aria-hidden="true"></i>
                        </a>
                    </h5>
                </div>

                <div id="collapseOne" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                    <div class="card-block small-text p-3">
                        <h4><strong>Welcome to the Empire Life Blockchain Lottery Application!</strong></h4>
                        Here are the rules: 
                        <ol>
                            <li>Each ticket costs 200 ether (a cryptocurrency) </li>
                            <li>Draws will occur twice a week on Wednesdays and Saturdays</li>
                            <li>Upon sign up, each member will have 1000 ether deposited<br> 
                            in their account</li>

                        </ol>    

                    </div>
                </div>
            </div>
        </div>
            
        <div class="row p-5">
            <div class="col">
                <h3 class = text-center>Member Functions<br></h3>
                <h3><strong>Sign Up Here!</strong></h3>
                <div class="row form-group pl-3" id="sign-up-div">
                    <div class="col">                        
                        <h5>Enter your email:</h5>
                        <input type="text" class="form-control form-control-lg" id="member_email" placeholder="e.g. emma.swarney@example.com"></input>
                        <button class="btn btn-primary btn-lg my-3" id="sign_up_button" onclick="addMember()">Sign Up</button>
                    </div>
                </div>                  
                <h3><strong>Existing Members</strong></h3>                   
                <div class="row form-group pl-3">
                    <div class="col">
                        <h4><strong>Withdraw Money From Pool</strong></h4>

                        <h5> Enter Email </h5><input type="text" class="form-control form-control-lg" id= "withdraw_member" placeholder="e.g. aarusha.thakral@example.com"></input>

                        <h5 class="my-2">Enter amount desired</h5><input type="number" id ="withdraw_amt" class="form-control form-control-lg" placeholder="e.g. 200"></input>
                        <button class="btn btn-primary btn-lg my-3" onclick ="withdrawFunds()">Withdraw Money</button>
                        <br/>
                    </div>
                </div>
                <div class="row form-group pl-3">
                    <div class="col">
                        <h4><strong>Check Member Balance</strong></h4>
                        <h5> Enter Email </h5>
                        <input type="text" class="form-control form-control-lg" id="id_member" placeholder="e.g. emma.swarney@example.com"></input>
                        <button class="btn btn-primary btn-lg my-3" onclick ="getBalance()">Check Balance</button>
                    </div>                                                
                </div>
            </div>
    
            <div class="col">
                <h3 class = text-center>Admin Functions<br></h3>
                <div class="row form-group">
                    <div class="col"> 
                        <h4><strong>Set Ticket Price</strong></h4>                        
                        <h5> Enter Ticket Price </h5><input type="text" class="form-control form-control-lg" placeholder="e.g. 300"></input>
                        <button class="btn btn-primary btn-lg my-3">Set Price</button>
                        <br>
                    </div>
                </div>
                <div class="row form-group">
                    <div class="col">
                        <h4><strong>Collect Funds</strong></h4>
                        <h5>Click when ready to collect funds for lottery draw</h5>
                        <button class="btn btn-primary btn-lg my-3" id="get_funds" onclick="collectFunds()">Collect Funds!</button>
                        <br>

                        <h4><strong>Distribute Winnings</strong></h4>
                        <h5>Click when ready to distribute lottery winnings</h5>
                        <button class="btn btn-primary btn-lg my-3">Distribute Winnings</button>

                    </div>
                </div>
                <div class="d-flex flex-column">
                    <div id="accordion" role="tablist">
                        <div class="card">
                            <div class="card-header text-center" role="tab" id="headingTwo">
                                <h5 class="mb-0">
                                    <a class="collapsed" data-toggle="collapse" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                    View Members
                                    </a>
                                </h5>
                            </div>
                            <div id="collapseTwo" class="collapse" role="tabpanel" aria-labelledby="headingTwo" data-parent="#accordion">
                                <div class="card-body">
                                    <table class="table member-table table-striped">
                                        <thead class="thead-light ">
                                            <tr>
                                                <th>Email</th>
                                                <th>Balance</th>
                                            </tr>
                                        </thead>
                                        <tbody class="member-table-body">
                                        </tbody>
                                    </table>                         
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
<script src="https://cdn.rawgit.com/ethereum/web3.js/develop/dist/web3.js"></script>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>
<script src="./app.js"></script>

</html>
